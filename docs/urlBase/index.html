<!DOCTYPE html><html lang="en" data-astro-cid-sckkx6r4> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/dedale_mono/_astro/favicon.CqloUsC9_1X3xi2.svg"><meta name="generator" content="Astro v5.16.6"><title>URL Base</title><style>article[data-astro-cid-in7sifdq]{margin-left:2rem}h1[data-astro-cid-in7sifdq]{font-size:2rem}h2[data-astro-cid-in7sifdq]{font-size:1.6rem}h3[data-astro-cid-in7sifdq]{font-size:1.3rem}th[data-astro-cid-in7sifdq].col1,td[data-astro-cid-in7sifdq].col1{background-color:linen}th[data-astro-cid-in7sifdq].col2,td[data-astro-cid-in7sifdq].col2{background-color:#ffb6c1}th[data-astro-cid-in7sifdq].col3,td[data-astro-cid-in7sifdq].col3{background-color:#87cefa}th[data-astro-cid-in7sifdq].col4,td[data-astro-cid-in7sifdq].col4{background-color:#b0c4de}
html,body{margin:0;width:100%;height:100%;font-family:Courier New,Helvetica,Arial,Verdana;background-color:#e0ffff;color:indigo}
</style></head> <body data-astro-cid-sckkx6r4> <a href="/dedale_mono" data-astro-cid-sckkx6r4>Dedales index</a> <section data-astro-cid-sckkx6r4>  <article data-astro-cid-in7sifdq> <h1 data-astro-cid-in7sifdq>URL Base</h1> <h2 data-astro-cid-in7sifdq>Motivation</h2>
The way <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL" data-astro-cid-in7sifdq>URL</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base" data-astro-cid-in7sifdq>base</a> work is not intuitive to me. I had to do experimentations for understanding
		the logic. This page summarize the findings.
<h2 data-astro-cid-in7sifdq>Use cases</h2>
When visiting the page <i data-astro-cid-in7sifdq>http://www.abc.fr/one/two/three.html</i>.
<table data-astro-cid-in7sifdq> <thead data-astro-cid-in7sifdq> <tr data-astro-cid-in7sifdq> <th data-astro-cid-in7sifdq>URL of href or src</th> <th class="col2" data-astro-cid-in7sifdq>Relative URL</th> <th class="col3" data-astro-cid-in7sifdq>Absolute URL</th> <th class="col4" data-astro-cid-in7sifdq>URL with domain</th> </tr> <tr data-astro-cid-in7sifdq> <th class="col1" data-astro-cid-in7sifdq>base element</th> <th class="col2" data-astro-cid-in7sifdq>user/martin.html</th> <th class="col3" data-astro-cid-in7sifdq>/user/martin.html</th> <th class="col4" data-astro-cid-in7sifdq>http://ijk.io/user/martin.html</th> </tr> </thead> <tbody data-astro-cid-in7sifdq> <tr data-astro-cid-in7sifdq> <td class="col1" data-astro-cid-in7sifdq>Without base element</td> <td class="col2" data-astro-cid-in7sifdq><i data-astro-cid-in7sifdq>http://www.abc.fr/one/two/</i>user/martin.html</td> <td class="col3" data-astro-cid-in7sifdq><i data-astro-cid-in7sifdq>http://www.abc.fr</i>/user/martin.html</td> <td class="col4" data-astro-cid-in7sifdq>http://ijk.io/user/martin.html</td> </tr> <tr data-astro-cid-in7sifdq> <td class="col1" data-astro-cid-in7sifdq>base='http://xyz.es/aaa/bbb/'</td> <td class="col2" data-astro-cid-in7sifdq>http://www.xyz.es/aaa/bbb/user/martin.html</td> <td class="col3" data-astro-cid-in7sifdq>http://www.xyz.es/user/martin.html</td> <td class="col4" data-astro-cid-in7sifdq>http://ijk.io/user/martin.html</td> </tr> <tr data-astro-cid-in7sifdq> <td class="col1" data-astro-cid-in7sifdq>base='/aaa/bbb/'</td> <td class="col2" data-astro-cid-in7sifdq><i data-astro-cid-in7sifdq>http://www.abc.fr</i>/aaa/bbb/user/martin.html</td> <td class="col3" data-astro-cid-in7sifdq><i data-astro-cid-in7sifdq>http://www.abc.fr</i>/user/martin.html</td> <td class="col4" data-astro-cid-in7sifdq>http://ijk.io/user/martin.html</td> </tr> <tr data-astro-cid-in7sifdq> <td class="col1" data-astro-cid-in7sifdq>base='aaa/bbb/ccc/ddd'</td> <td class="col2" data-astro-cid-in7sifdq><i data-astro-cid-in7sifdq>http://www.abc.fr/one/two/</i>aaa/bbb/ccc/user/martin.html</td> <td class="col3" data-astro-cid-in7sifdq><i data-astro-cid-in7sifdq>http://www.abc.fr</i>/user/martin.html</td> <td class="col4" data-astro-cid-in7sifdq>http://ijk.io/user/martin.html</td> </tr> </tbody> </table>
The following URLs are relatives:
<ul data-astro-cid-in7sifdq> <li data-astro-cid-in7sifdq>hello</li> <li data-astro-cid-in7sifdq>hello/man</li> <li data-astro-cid-in7sifdq>hello/man/</li> <li data-astro-cid-in7sifdq>./hello</li> <li data-astro-cid-in7sifdq>../hello</li> <li data-astro-cid-in7sifdq>../../hello</li> <li data-astro-cid-in7sifdq>../../hello/man/</li> </ul> <h2 data-astro-cid-in7sifdq>Observations</h2> <ol data-astro-cid-in7sifdq> <li data-astro-cid-in7sifdq><i data-astro-cid-in7sifdq>URL with domain</i> are always unchanged</li> <li data-astro-cid-in7sifdq> <i data-astro-cid-in7sifdq>Base</i> only impacts the domain of an <i data-astro-cid-in7sifdq>absolute URL</i> </li> <li data-astro-cid-in7sifdq>string after the last slash of the base is ignored</li> <li data-astro-cid-in7sifdq> <i data-astro-cid-in7sifdq>base with empty string</i> or <i data-astro-cid-in7sifdq>base without slash</i> are equivalent
				to <i data-astro-cid-in7sifdq>no base element</i> </li> <li data-astro-cid-in7sifdq><i data-astro-cid-in7sifdq>base not starting with slash</i> is a nonsense</li> </ol> <h2 data-astro-cid-in7sifdq>Main rules</h2> <ol data-astro-cid-in7sifdq> <li data-astro-cid-in7sifdq>
Relative URL refers to the current page if <i data-astro-cid-in7sifdq>no base element</i> </li> <li data-astro-cid-in7sifdq>
Relative URL refers to the <i data-astro-cid-in7sifdq>base</i> if <i data-astro-cid-in7sifdq>base element exists</i> </li> <li data-astro-cid-in7sifdq><i data-astro-cid-in7sifdq>base without domain</i> must start and end with slash</li> <li data-astro-cid-in7sifdq>
All pages shall have the same <i data-astro-cid-in7sifdq>base</i> for easing the maintenance
</li> </ol> </article>   </section> </body></html>